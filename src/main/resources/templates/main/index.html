<!doctype html>

<html xmlns:th="https://www.thymeleaf.org">
  <head>
    <title></title>

    <style>
      table {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
      }

      table,
      th,
      td {
        border: 1px solid black;
        border-collapse: collapse;
      }

      table,
      td {
        font-size: 1.2em;
      }

      th,
      td {
        padding: 1em;
      }

      th {
        font-size: 1.3em;
        background-color: #ffe4c4;
      }

      td.formEnd {
        text-align: center;
        background-color: #a3c1ad;
        font-size: 1.3em;
      }

      input {
        font-size: large;
        height: auto;
      }

      input.textEntry {
        width: 50%;
      }
    </style>

    <script type="text/javascript" th:src="@{/js/main.js}"></script>

    <script type="text/javascript">
      function customTableData() {
        // Format
        const tdElement = document.querySelectorAll("th, td.formEnd");
        if (tdElement != null && tdElement.length > 0) {
          tdElement.forEach(function (e) {
            e.setAttribute("colspan", "2");
          });
        }
      }

      function resetElement(elementID) {
        const element = document.getElementById(elementID);
        if (element != null) element.value = "";
      }

      function resetForm() {
        resetElement("fileName");
        resetElement("file");
        resetElement("apiKey");
      }
    </script>
  </head>

  <body onload="customTableData()">
    <form
      method="post"
      enctype="multipart/form-data"
      th:action="@{/}"
      th:object="${formObject}"
    >
      <!-- // -->
      <table align="center">
        <!-- // -->
        <thead>
          <tr>
            <th>File Submit</th>
          </tr>
        </thead>
        <!-- // -->

        <!-- // -->
        <tbody>
          <!-- // -->
          <tr>
            <td>File Name</td>
            <td>
              <p>
                <input class="textEntry" type="text" th:field="*{fileName}" />
              </p>
              <p
                class="alert alert-warning"
                style="white-space: pre-line"
                th:if="${#fields.hasErrors('fileName')}"
                th:errors="*{fileName}"
              ></p>
            </td>
          </tr>
          <!-- // -->
          <tr>
            <td>File</td>
            <td>
              <p>
                <input type="file" th:field="*{file}" />
              </p>
              <p
                class="alert alert-warning"
                style="white-space: pre-line"
                th:if="${#fields.hasErrors('file')}"
                th:errors="*{file}"
              ></p>
            </td>
          </tr>
          <!-- // -->
          <tr>
            <td>API Key</td>
            <td>
              <p>
                <input class="textEntry" type="text" th:field="*{apiKey}" />
              </p>
              <p
                class="alert alert-warning"
                style="white-space: pre-line"
                th:if="${#fields.hasErrors('apiKey')}"
                th:errors="*{apiKey}"
              ></p>
            </td>
          </tr>
          <!-- // -->
        </tbody>
        <!-- // -->

        <!-- // -->
        <tfoot>
          <tr>
            <td colspan="2" style="text-align: center">
              <input type="submit" value="Send" style="margin-right: 1em" />
              <input type="button" value="Clear" onclick="resetForm()" />
            </td>
          </tr>
          <tr>
            <td class="formEnd">--- EOF ---</td>
          </tr>
        </tfoot>
        <!-- // -->
      </table>
      <!-- // -->
    </form>
  </body>
</html>
